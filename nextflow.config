process {

  executor = "slurm"

  // Configuration for non-GPU jobs
  clusterOptions = "--account=nn10082k"
  queue = "normal"

  // Configuration for GPU jobs
  // Parabricks guideline: 1 GPU -> 16CPU, 2 GPU -> 24CPU, 4 GPU -> 32CPU
  // Parabricks guideline: 40GB RAM / GPU
  withLabel: "gpu" {
    clusterOptions = "--account=nn10082k --gpus=2"
    queue = "a100"
    memory = "80 GB"
    cpus = 24
  }

}

singularity {

  enabled = true
  autoMounts = true
  cacheDir = "work/containers"

}
