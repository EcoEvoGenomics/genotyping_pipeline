conda {
  
  enabled = true
  cacheDir = 'work/00-environments'

}

process {

  executor='slurm'

  withName: 'define_windows' {
    clusterOptions = '--account=nn10082k --job-name=def_windows'
    conda = 'bioconda::bedtools=2.31'
    cpus = 1
    memory = '256 MB'
    time = '00:05:00'
  }

  withName: 'genotype_windows' {
    clusterOptions = '--account=nn10082k --job-name=geno_windows'
    conda = 'bioconda::bcftools=1.17'
    cpus = 8
    memory = '20 GB'
    time = '24:00:00'
  }

  withName: 'concatenate_windows' {
    clusterOptions = '--account=nn10082k --job-name=cat_windows'
    conda = 'bioconda::bcftools=1.17'
    cpus = 8
    memory = '12 GB'
    time = '02:00:00'
  }

  withName: 'normalise_vcf' {
    clusterOptions = '--account=nn10082k --job-name=normalise'
    conda = 'bioconda::bcftools=1.17'
    cpus = 8
    memory = '12 GB'
    time = '06:00:00'
  }

  withName: 'reheader_vcf' {
    clusterOptions = '--account=nn10082k --job-name=reheader'
    conda = 'bioconda::bcftools=1.17'
    cpus = 4
    memory = '10 GB'
    time = '12:00:00'
  }

  withName: 'summarise_vcf' {
    clusterOptions = '--account=nn10082k --job-name=summarise'
    conda = 'bioconda::bcftools=1.17'
    cpus = 4
    memory = '10 GB'
    time = '12:00:00'
  }
  
  withName: 'concatenate_vchks' {
    clusterOptions = '--account=nn10082k --job-name=cat_vchk'
    conda = 'bioconda::bcftools=1.17'
    cpus = 1
    memory = '2 GB'
    time = '01:00:00'
  }

  withName: 'concatenate_vcfs' {
    clusterOptions = '--account=nn10082k --job-name=cat_vcf'
    conda = 'bioconda::bcftools=1.17'
    cpus = 8
    memory = '12 GB'
    time = '02:00:00'
  }

}
